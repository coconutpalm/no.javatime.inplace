<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:10.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:0cm;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:15.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0cm;
	margin-bottom:.0001pt;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0cm;
	margin-bottom:.0001pt;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:15.0pt;
	margin-left:0cm;
	border:none;
	padding:0cm;
	font-size:26.0pt;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0cm;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma","sans-serif";}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma","sans-serif";}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Cambria","serif";
	color:#17365D;
	letter-spacing:.25pt;}
.MsoChpDefault
	{font-family:"Calibri","sans-serif";}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:70.85pt 70.85pt 70.85pt 70.85pt;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=NO-BOK link=blue vlink=purple>

<div class=WordSection1>

<div style='border:none;border-bottom:solid #4F81BD 1.0pt;padding:0cm 0cm 4.0pt 0cm'>

<p class=MsoTitle><a name="_Toc313479386"><span lang=EN-US>Update and Refresh
Bundles</span></a></p>

</div>

<p class=MsoTocHeading><span lang=EN-US>Contents</span></p>

<p class=MsoToc1><a href="#_Toc347699344"><span lang=EN-US>How to</span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc347699345"><span lang=EN-US>Refresh</span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc347699346"><span lang=EN-US>Restoring State
after Refresh</span><span lang=EN-US style='color:windowtext;display:none;
text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc347699347"><span lang=EN-US>Refreshing with
build Errors</span><span lang=EN-US style='color:windowtext;display:none;
text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc347699348"><span lang=EN-US>Refresh Options</span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc1><a href="#_Toc347699349"><span lang=EN-US>Update</span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc347699350"><span lang=EN-US>Restoring State
after Update</span><span lang=EN-US style='color:windowtext;display:none;
text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc347699351"><span lang=EN-US>Update and Build</span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc3><a href="#_Toc347699352"><span lang=EN-US>Build Errors</span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc3><a href="#_Toc347699353"><span lang=EN-US>Automatic Build</span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc347699354"><span lang=EN-US>Update and Stale
References</span><span lang=EN-US style='color:windowtext;display:none;
text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoToc2><a href="#_Toc347699355"><span lang=EN-US>Update Bundles
Manually</span><span lang=EN-US style='color:windowtext;display:none;
text-decoration:none'>. </span><span
lang=EN-US style='color:windowtext;display:none;text-decoration:none'>2</span></a></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><a name="_Toc347699344"><span lang=EN-US>How to</span></a></h1>

<p class=MsoNormal><span lang=EN-US>A bundle is started when first </span><a
href="Activate%20and%20Deactivate%20Bundles.htm"
title="Describes how to activate bundles"><span lang=EN-US>activated</span></a><span
lang=EN-US> . When activated, you can then refresh multiple bundles from the
Bundle main menu and individual bundles from the context pop-up menus in the Package
Explorer, Bundle Detail Page View and the Bundle List Page View.   There are
also local tool bars in the Details and List pages for refreshing bundles
individually.  </span></p>

<p class=MsoNormal><span lang=EN-US>If the </span><a
href="Setting%20Bundle%20Options.htm#UpdateOnBuild"><span lang=EN-US>Update on
Build</span></a><span lang=EN-US> option is switched on, update becomes an
implicit command and automatically executed each time one or more activated
bundle projects are built. If the option is off an update command is available
from the main and local pop-up menus and tool bars given that there are bundle
projects that have not been updated since the last build.</span></p>

<h1><a name="_Toc347699345"><span lang=EN-US>Refresh</span></a></h1>

<p class=MsoNormal><span lang=EN-US>Refresh calculates the requiring dependency
closure which is all bundles that directly and indirectly require capabilities
from the set of bundles to refresh. The set of calculated bundles are stopped and
unresolved forcing a replacement or removal of packages exported by the
refreshed bundle(s)<span style='color:black'>.  When unresolved n</span>o
wiring will exist among the bundles. This makes the bundle wirings available
for garbage collection.  Then an attempt is made to resolve the bundles by
creating new wirings based on the dependencies between the bundles.  </span></p>

<h2><a name="_Toc347699346"><span lang=EN-US>Restoring State after Refresh</span></a></h2>

<p class=MsoNormal><span lang=EN-US>If you refresh a lazy activated bundle that
is in state ACTIVE, STARTING/&lt;&lt;LAZY&gt;&gt; or RESOLVED it will return to
same state after refresh. Eagerly activated bundles also returns to their pre
refresh RESOLVED or ACTIVE state.  </span></p>

<h2><a name="_Toc347699347"><span lang=EN-US>Refreshing with build Errors</span></a></h2>

<p class=MsoNormal><span lang=EN-US>If you refresh an ACTIVE or RESOLVED bundle
with build errors the current revision and the wirings of the bundle is used. 
The bundles are updated after a successful build.</span></p>

<h2><a name="_Toc347699348"><span lang=EN-US>Refresh Options</span></a></h2>

<p class=MsoNormal><span lang=EN-US>By default a refresh command is issued on a
bundle being updated and its requiring bundles. This will guarantee that older
revisions of the bundle are released.  See the <a
href="Setting%20Bundle%20Options.htm#RefreshOnUpdate">Refresh on Update</a>
option for a detailed description.</span></p>

<h1><a name="_Toc347699349"><span lang=EN-US>Update</span></a></h1>

<p class=MsoNormal><span lang=EN-US>An activated bundle is by default automatically
updated after the associated project has been built. The updated version of the
bundle is read from the input stream and installed. The bundle is then refreshed
if the <a href="Setting%20Bundle%20Options.htm#RefreshOnUpdate">Refresh on
Update</a> option is on and only resolved if not. Lastly the bundle is started
if it was ACTIVE before the update command was executed. The new compiled code
is loaded and becomes the current active code in the updated bundle at the time
the start method of the activator is invoked.</span></p>

<p class=MsoNormal><span lang=EN-US>Deactivated bundles does not participate
explicit in the update process, but may be activated implicit, and thus
updated,  due to code changes involving importing packages from deactivated 
bundles in activated bundles to update.</span></p>

<h2><a name="_Toc347699350"><span lang=EN-US>Restoring State after Update</span></a></h2>

<p class=MsoNormal><span lang=EN-US>After an update operation is complete the bundle
is moved to the same state as it was in before the update operation. An
exception is a bundle in state RESOLVED, with a lazy activation policy that is
refreshed after update. In this case the state after update is
STARTING/&lt;&lt;LAZY&gt;&gt;.</span></p>

<h2><a name="_Toc347699351"><span lang=EN-US>Update and Build</span></a></h2>

<h3><a name="_Toc347699352"><span lang=EN-US>Build Errors</span></a></h3>

<p class=MsoNormal><span lang=EN-US>If an activated bundle project with errors
is built, update is skipped and the current revision and wires are used. In
other words, an activated bundle always reflects the last successful build as
long as the <a href="Setting%20Bundle%20Options.htm#UpdateOnBuild">Update on
Build</a> option is on.</span></p>

<h3><a name="_Toc347699353"><span lang=EN-US>Automatic Build</span></a></h3>

<p class=MsoNormal><span lang=EN-US>When the Build Automatically option is on,
projects are built according to default or custom build rules defined for
projects. This implies that decisions when to build, which projects to build
and kind of build (full or incremental) varies and bundle updates are fully
controlled by these rules.</span></p>

<h2><a name="_Toc347699354"><span lang=EN-US>Update and Stale References</span></a></h2>

<p class=MsoNormal><span lang=EN-US>An activated bundle is stopped (if in state
ACTIVE) and unresolved before resolved and started again during the update
process. This happens every time a project is built and can cause stale
references if resources are not released (e.g. in the stop method of the
activator of a bundle) when a bundle is stopped or unresolved during the
development of a bundle.</span></p>

<h2><a name=UpdateBundlesManually></a><a name="_Toc347699355"><span lang=EN-US>Update
Bundles Manually</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Bundles are by default updated when built.
It is possible to disable this feature by turning the <a
href="Setting%20Bundle%20Options.htm#UpdateOnBuild">Update on Build</a> option off.
You can then control the update of bundles manually.</span></p>

<p class=MsoNormal><span lang=EN-US>When you update bundles from the main menu
all bundles that have been built since last update are updated. When you update
a single bundle from one of the local menus or toolbars the partial graph of
the bundle is first calculated. See </span><span
lang=EN-US><a
href="Setting%20Bundle%20Options.htm#HowToInterpretTheDifferentDependencyOpti">How
to interpret the different Dependency Options</a> for an example of a partial
graph. In short, the partial graph is constructed by traversing the bundle
dependencies in both directions until it is not possible to extend the graph
further. All built bundles are updated and the members of the partial graph of
the selected bundle(s) to update are resolved or refreshed if the <a
href="Setting%20Bundle%20Options.htm#RefreshOnUpdate">Refresh on Update</a> is
switched on.</span></p>

</div>

</body>

</html>
